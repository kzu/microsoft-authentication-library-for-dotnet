<Project Sdk="Microsoft.NET.Sdk" ToolsVersion="15.0">
  <PropertyGroup>
    <TargetFrameworks>net45;netstandard1.1;netstandard1.3;win81;MonoAndroid403;Xamarin.iOS10</TargetFrameworks>
    <DefaultLanguage>en-US</DefaultLanguage>
    <CopyLocalLockFileAssemblies>false</CopyLocalLockFileAssemblies>
    <Version>1.0.0-alpha-001</Version>
    <Authors>Microsoft Corp.</Authors>
    <PackageTitle>Microsoft Authentication Library</PackageTitle>
    <PackageLicenseUrl>http://go.microsoft.com/fwlink/?LinkId=317295</PackageLicenseUrl>
    <PackageProjectUrl>http://go.microsoft.com/fwlink/?LinkId=258232</PackageProjectUrl>
    <MinClientVersion>2.12</MinClientVersion>
    <Description>This package contains the binaries of the Microsoft Authentication Library (MSAL). MSAL provides a Portable Class Library with easy to use authentication functionality for your .NET client on various platforms including Windows desktop, Windows Store, Xamarin iOS and Xamarin Android by taking advantage of Azure Active Directory and MSA.</Description>
    <Copyright>(C) Microsoft Corporation. All rights reserved.</Copyright>
    <PackageTags>Microsoft Authentication Library;MSA;MSAL;Azure Active Directory;AAD;Identity;Authentication;.NET;Windows Store;Xamarin iOS;Android</PackageTags>
    <Product>Microsoft.Identity.Client ($(TargetFramework))</Product>
    <IncludeSymbols>true</IncludeSymbols>
    <GenerateDocumentationFile Condition=" '$(Configuration)' == 'Release' ">true</GenerateDocumentationFile>
    <DelaySign>true</DelaySign>
    <PublicSign Condition="'$(OS)' != 'Windows_NT'">true</PublicSign>
    <SignAssembly>true</SignAssembly>
    <AssemblyOriginatorKeyFile>..\..\build\35MSSharedLib1024.snk</AssemblyOriginatorKeyFile>
  </PropertyGroup>
  <PropertyGroup Condition="'$(TargetFramework)' == 'netstandard1.1'">
    <DefineConstants>$(DefineConstants);FACADE</DefineConstants>
  </PropertyGroup>
  <PropertyGroup Condition="'$(TargetFramework)' == 'win81'">
    <NugetTargetMoniker>Windows,Version=v8.1</NugetTargetMoniker>
    <TargetFrameworkIdentifier>.NETCore</TargetFrameworkIdentifier>
    <TargetFrameworkVersion>v4.5.1</TargetFrameworkVersion>
    <DefineConstants>$(DefineConstants);WIN8_1</DefineConstants>
    <LanguageTargets>$(MSBuildExtensionsPath)\Microsoft\WindowsXaml\v$(VisualStudioVersion)\Microsoft.Windows.UI.Xaml.CSharp.targets</LanguageTargets>
  </PropertyGroup>
  <PropertyGroup Condition="'$(TargetFramework)' == 'uap10.0'">
    <NugetTargetMoniker>UAP,Version=v10.0</NugetTargetMoniker>
    <TargetPlatformIdentifier>UAP</TargetPlatformIdentifier>
    <TargetPlatformVersion>10.0.14393.0</TargetPlatformVersion>
    <TargetPlatformMinVersion>10.0.10240.0</TargetPlatformMinVersion>
    <TargetFrameworkIdentifier>.NETCore</TargetFrameworkIdentifier>
    <TargetFrameworkVersion>v5.0</TargetFrameworkVersion>
    <DefineConstants>$(DefineConstants);WINDOWS_UWP;UAP10_0</DefineConstants>
    <LanguageTargets>$(MSBuildExtensionsPath)\Microsoft\WindowsXaml\v$(VisualStudioVersion)\Microsoft.Windows.UI.Xaml.CSharp.targets</LanguageTargets>
  </PropertyGroup>
  <PropertyGroup Condition="'$(TargetFramework)' == 'Xamarin.iOS10'">
    <TargetFrameworkIdentifier>Xamarin.iOS</TargetFrameworkIdentifier>
    <TargetFrameworkVersion>v1.0</TargetFrameworkVersion>
    <IPhoneResourcePrefix>Resources</IPhoneResourcePrefix>
    <DefineConstants>$(DefineConstants);IOS1_0</DefineConstants>
    <DebugType>full</DebugType>
    <LanguageTargets>$(MSBuildProgramFiles32)\MSBuild\Xamarin\iOS\Xamarin.iOS.CSharp.targets</LanguageTargets>
  </PropertyGroup>
  <PropertyGroup Condition="'$(TargetFramework)' == 'MonoAndroid403'">
    <TargetFrameworkIdentifier>MonoAndroid</TargetFrameworkIdentifier>
    <TargetFrameworkVersion>v4.0.3</TargetFrameworkVersion>
    <AndroidUseLatestPlatformSdk>False</AndroidUseLatestPlatformSdk>
    <DebugType>full</DebugType>
    <DefineConstants>$(DefineConstants);MONOANDROID4_0_3</DefineConstants>
    <AndroidResgenFile>..\MSAL.PCL.Android\Resources\Resource.Designer.cs</AndroidResgenFile>
    <LanguageTargets>$(MSBuildProgramFiles32)\MSBuild\Xamarin\Android\Xamarin.Android.CSharp.targets</LanguageTargets>
  </PropertyGroup>
  <PropertyGroup Condition="'$(TargetFramework)' == 'net45'">
    <DefineConstants>$(DefineConstants);NET4_5</DefineConstants>
  </PropertyGroup>
  <ItemGroup>
    <ProjectCapability Include="ShowFilesOutsideOfProject" />
    <None Include="**\*.cs;**\*.xml;**\*.axml" Exclude="obj\**\*.*;bin\**\*.*" />
    <None Include="..\**\*.cs;..\**\*.xml;..\**\*.axml" Exclude="..\Microsoft.Identity.Client\obj\**\*.*;bin\**\*.*" />
    <Compile Remove="Platforms\**\*.*;Resources\**\*.cs" />
    <EmbeddedResource Include="Properties\Microsoft.Identity.Client.rd.xml" />
    <Compile Include="..\MSAL.PCL\**\*.cs" Exclude="..\MSAL.PCL\Properties\**\*.cs;..\MSAL.PCL\MsalOption.cs" />
  </ItemGroup>
  <ItemGroup>
    <PackageReference Include="NETStandard.Library" Condition="'$(TargetFramework)' != 'net45'" Version="1.6.1" />
    <PackageReference Include="System.Runtime.Serialization.Primitives" Condition="'$(TargetFramework)' != 'net45'" Version="4.3.0" />
    <PackageReference Include="System.Runtime.Serialization.Json" Condition="'$(TargetFramework)' != 'net45'" Version="4.3.0" />
    <PackageReference Include="System.Xml.XDocument" Condition="'$(TargetFramework)' != 'net45'" Version="4.3.0" />
    <PackageReference Include="System.Security.Cryptography.X509Certificates" Condition="'$(TargetFramework)' == 'netstandard1.3' or '$(TargetFramework)' == 'MonoAndroid70' or '$(TargetFramework)' == 'Xamarin.iOS10' or '$(TargetFramework)' == 'uap10.0' " Version="4.3.0" />
  </ItemGroup>
  <ItemGroup Condition=" '$(TargetFramework)' == 'net45' ">
    <Reference Include="System" />
    <Reference Include="System.Core" />
    <Reference Include="System.Drawing" />
    <Reference Include="System.IdentityModel" />
    <Reference Include="System.Net.Http" />
    <Reference Include="System.Windows.Forms" />
    <Reference Include="System.Xml.Linq" />
    <Reference Include="System.Data.DataSetExtensions" />
    <Reference Include="Microsoft.CSharp" />
    <Reference Include="System.Data" />
    <Reference Include="System.Xml" />
    <Compile Include="Platforms\net45\*.cs" />
    <Compile Include="..\MSAL.PCL.Desktop\*.cs" />
    <Compile Include="..\MSAL.Common\MsalEventSource.cs" />
    <Compile Include="..\MSAL.Common\PublicClientApplicationExtensions.cs" />
    <Compile Include="..\MSAL.Common\ClientAssertionCertificate.cs" />
    <Compile Include="..\MSAL.Common\Logger.cs" />
    <Compile Include="..\MSAL.Common\TokenCachePlugin.cs" />
    <Compile Include="..\MSAL.Common\TokenCacheExtensions.cs" />
    <Compile Include="..\MSAL.PCL\MsalOption.cs" />
  </ItemGroup>
  <ItemGroup Condition=" '$(TargetFramework)' == 'win81' or '$(TargetFramework)' == 'uap10.0' ">
    <Compile Include="Platforms\winrt\**\*.cs" />
    <Compile Include="..\MSAL.PCL.WinRT\*.cs" />
    <Compile Include="..\MSAL.Common\MsalEventSource.cs" />
    <Compile Include="..\MSAL.Common\PublicClientApplicationExtensions.cs" />
    <Compile Include="..\MSAL.Common\Logger.cs" />
    <Compile Include="..\MSAL.PCL\MsalOption.cs" />
  </ItemGroup>
  <ItemGroup Condition=" '$(TargetFramework)' == 'netstandard1.3' ">
    <Compile Include="Platforms\netstandard1.3\**\*.cs" />
    <Compile Include="..\MSAL.PCL.CoreCLR\*.cs" />
    <Compile Include="..\MSAL.Common\MsalEventSource.cs" />
    <Compile Include="..\MSAL.Common\Logger.cs" />
    <Compile Include="..\MSAL.Common\TokenCachePlugin.cs" />
    <Compile Include="..\MSAL.Common\TokenCacheExtensions.cs" />
    <Compile Include="..\MSAL.PCL\MsalOption.cs" />
  </ItemGroup>
  <ItemGroup Condition=" '$(TargetFramework)' == 'uap10.0' ">
    <PackageReference Include="Microsoft.NETCore.UniversalWindowsPlatform " Version="5.2.2" />
  </ItemGroup>
  <ItemGroup Condition=" '$(TargetFramework)' == 'Xamarin.iOS10' ">
    <Reference Include="System" />
    <Reference Include="System.Runtime" />
    <Reference Include="System.Collections" />
    <Reference Include="System.Threading.Tasks" />
    <Reference Include="System.IdentityModel" />
    <Reference Include="System.Net.Http" />
    <Reference Include="System.Xml" />
    <Reference Include="System.Xml.Linq" />
    <Reference Include="System.Core" />
    <Reference Include="System.Runtime.Serialization" />
    <Reference Include="Xamarin.iOS" />
    <Compile Include="Platforms\iOS\**\*.cs" />
    <Compile Include="..\MSAL.PCL.iOS\*.cs" />
  </ItemGroup>
  <ItemGroup Condition=" '$(TargetFramework)' == 'MonoAndroid403' ">
    <Reference Include="Mono.Android" />
    <Reference Include="System" />
    <Reference Include="System.Collections" />
    <Reference Include="System.Threading.Tasks" />
    <Reference Include="System.Core" />
    <Reference Include="System.Runtime" />
    <Reference Include="System.Threading.Tasks" />
    <Reference Include="System.IdentityModel" />
    <Reference Include="System.Net.Http" />
    <Reference Include="System.Xml.Linq" />
    <Reference Include="System.Runtime.Serialization" />
    <Reference Include="System.Xml" />
    <Compile Include="Platforms\Android\**\*.cs" />
    <Compile Include="..\MSAL.PCL.Android\*.cs" />
    <Compile Include="..\MSAL.PCL.Android\Resources\*.cs" />
    <AndroidResource Include="Resources\**\*.axml" />
    <AndroidResource Include="Resources\**\*.xml" />
    <AndroidResource Include="..\MSAL.PCL.Android\Resources\**\*.axml" />
    <AndroidResource Include="..\MSAL.PCL.Android\Resources\**\*.xml" />
    <Compile Include="Resources\**\*.cs" />
    <PackageReference Include="Xamarin.Android.Support.CustomTabs " Version="23.3.0" />
  </ItemGroup>
</Project>